---

## Arquitectura del Sistema

<aside>
üé´

1) Sistema de Venta de Tickets
Lanzamiento: Noviembre 2025

</aside>

- Plataforma de inscripciones y venta de entradas
- Integraci√≥n con pasarela de pagos OnvoPayments
- Gesti√≥n de diferentes categor√≠as de tickets
- Landing page informativa

<aside>
üßæ

2) Sistema de Control de Acceso
Operaci√≥n: Mayo 2026

</aside>

- Web app para lectura de c√≥digos QR
- Control de asistencia en tiempo real
- Generaci√≥n autom√°tica de certificados
- Dashboard administrativo

---

## Fase 1: Sistema de Venta de Tickets

### Tipos de Entradas y Categor√≠as

- **Tickets Pagados:** Doctores colegiados y profesionales
- **Tickets Gratuitos:** Invitados especiales
- **Conferencistas:** Acceso completo sin costo
- **Patrocinadores:** Entradas corporativas

### Opciones de Compra

- **Por d√≠as individuales:** Elegir primer d√≠a, segundo d√≠a, tercer d√≠a o todos
- **Entrada completa:** Acceso a todo el evento (29‚Äì30 mayo)
- **Producto adicional:** Fiesta de clausura opcional con costo adicional

### Estructura de Precios por Fechas

| Fase | Ventana | Descripci√≥n |
| --- | --- | --- |
| Early Bird | Noviembre 2025 ‚Äì Fecha X | Precio m√°s econ√≥mico para compras tempranas. Incentivo para registros anticipados. |
| Precio Regular | Fecha X ‚Äì Fecha Y | Precio est√°ndar del evento. |
| Precio Estudiante | Siempre que aplique | Tarifa especial para estudiantes con validaci√≥n. |
| Precio Last Minute (opcional) | D√≠as antes del evento | Precio especial para incentivar compras de √∫ltimo momento. |

### Flujo de Compra del Usuario

1. **Acceso a la plataforma:** Sin necesidad de registro previo
2. **Selecci√≥n de entradas:**
    - Elige tipo de entrada (por d√≠as o completa)
    - Selecciona cantidad (puede comprar para m√∫ltiples personas)
    - Opcionalmente agrega fiesta de clausura
    - Posibilidad de usar cupones para reducir el precio
3. **Formulario de datos** por cada entrada:
    - Nombre completo
    - Edad
    - G√©nero
    - Procedencia geogr√°fica
    - Profesi√≥n
    - Sector (p√∫blico/privado)
    - N√∫mero de tel√©fono
    - Correo electr√≥nico
4. **Pago:** A trav√©s de OnvoPayments
5. **Confirmaci√≥n:**
    - Correo con detalles de la compra
    - QR √∫nico por cada entrada
    - Cada entrada asociada a un nombre espec√≠fico

### Gesti√≥n de Pagos y Seguimiento

### OnvoPayments ‚Äî Features

- Notificaciones de procesos de compra iniciados pero no finalizados
- Seguimiento autom√°tico de transacciones
- Soporte para m√∫ltiples monedas (USD/CRC)
- Integraci√≥n con dat√°fonos para ventas en sitio

### Sistema de Seguimiento

- Dashboard administrativo para ver ventas en tiempo real
- Identificaci√≥n de usuarios que iniciaron compra pero no completaron
- Herramientas de follow-up para ventas pendientes
- Reportes de transacciones y estados de pago

---

## Fase 2: Landing Page y Contenido

### Secciones de la Landing Page

1. **Informaci√≥n del evento:** Fechas, ubicaci√≥n, descripci√≥n general
2. **Agenda:** Programa detallado, horarios de charlas
3. **Conferencistas:** Perfiles y biograf√≠as de speakers
4. **Registro:** Acceso directo al sistema de compra
5. **Patrocinadores:** Logos y informaci√≥n de sponsors
6. **Contacto:** Informaci√≥n de contacto y ubicaci√≥n

### Caracter√≠sticas T√©cnicas de la Landing

- **Dise√±o responsive:** Compatible con m√≥vil, tablet y desktop
- **Optimizaci√≥n SEO:** B√°sica para mejorar visibilidad
- **Integraci√≥n nativa:** Con sistema de acreditaci√≥n
- **Tracking:** Meta Pixel y Google Analytics para campa√±as publicitarias

---

## Fase 3: Sistema de Control de Acceso (Mayo 2026)

### Web App para Lectura QR ‚Äî Funcionamiento

- **PWA (Progressive Web App):** No requiere instalaci√≥n
- **Acceso por roles:** Usuarios administrativos con credenciales
- **Escaneo v√≠a c√°mara:** Utiliza WebRTC para acceso a c√°mara del dispositivo
- **Validaci√≥n en tiempo real:** Marca entrada y salida por d√≠a

### Proceso de Validaci√≥n

1. **En la entrada:** Escaneo del QR para marcar asistencia
2. **Control por charlas:** Seguimiento de asistencia (hora entrada, hora salida)
3. **Salida:** Registro de salida del evento y de ciertas charlas para la acreditaci√≥n

### Manejo de Usuarios sin QR

### Problema Identificado

- Usuarios de tercera edad o con poca familiaridad tecnol√≥gica
- Personas que pagaron pero no tienen el QR accesible

### Soluci√≥n

- **Impresi√≥n en sitio:** Sistemacon la posibilidad de que los administradores puedan descargar el QRs de los clientes
- **Stickers con QR:** Impresi√≥n de c√≥digos QR en stickers adhesivos
- **Aplicaci√≥n en gafetes:** Los stickers se pegan en los gafetes entregados en el evento

### Venta de Entradas en Sitio ‚Äî Funcionalidad

- **Sistema de venta in situ:** Para personas que llegan sin entrada
- **Integraci√≥n con dat√°fonos:** Pago inmediato con tarjeta
- **Generaci√≥n instant√°nea de QR:** Se crea y entrega al momento
- **Formulario r√°pido:** Captura de datos esenciales en el lugar

---

## Fase 4: Sistema de Certificados

### Criterios para Certificaci√≥n

1. **Compra de entrada:** Confirmaci√≥n de pago
2. **Asistencia f√≠sica:** Validaci√≥n mediante escaneo de QR
3. **Cumplimiento de requisitos:** Asistencia a charlas, asistencia por d√≠a.

### Proceso Automatizado

- **Filtrado autom√°tico:** Sistema identifica usuarios que cumplen requisitos
- **Generaci√≥n de certificados:** Autom√°tica al finalizar el evento
- **Env√≠o por correo:** Certificado de aprovechamiento o participaci√≥n
- **Timing:** Solo se env√≠an despu√©s de concluir todo el evento

---

## Fase 5: Dashboard Administrativo

### Panel de Control Principal ‚Äî M√©tricas en Tiempo Real

- Ventas totales por d√≠a
- Registros confirmados vs pendientes
- Aforo (asistentes de cada evento)
- Ingresos generados

### Gesti√≥n de Usuarios

- **Lista completa de registrados:** Con todos los datos del formulario
- **Filtros avanzados:** Por edad, g√©nero, procedencia, profesi√≥n, sector
- **Estados de pago:** Pagado, pendiente, reembolsado
- **Seguimiento de asistencia:** Qui√©n ha ingresado al evento

### Reportes Demogr√°ficos

- Distribuci√≥n por edad y g√©nero
- Procedencia geogr√°fica
- An√°lisis profesional (p√∫blico vs privado)
- Patrones de compra por fechas

### Herramientas de Seguimiento

- **Follow-up de ventas:** Usuarios que iniciaron compra sin completar
- **Comunicaci√≥n:** Herramientas para contactar usuarios
- **Exportaci√≥n:** Todos los datos exportables a Excel
- **Analytics:** Integraci√≥n con Google Analytics para tracking de campa√±as
- Meta Pixel

---

## Especificaciones T√©cnicas

### Hardware Incluido

- **4‚Äì6 Impresoras t√©rmicas:** Compatibles con protocolo ESC/POS (TSC/G&G)
- **Integraci√≥n con dat√°fonos:** Para ventas en sitio

### Seguridad

- Autenticaci√≥n de usuarios administrativos
- Encriptaci√≥n de datos sensibles
- Backup autom√°tico diario
- Monitoreo 24/7
- Protecci√≥n contra ataques DDoS

---

<aside>
üí°

## Stack Tecnol√≥gico Completo

</aside>

## Frontend Core

**Framework Principal**

- **Next.js 14 con App Router** - Framework React con renderizado del servidor y rutas basadas en carpetas **‚úì**
- **TypeScript** - A√±ade tipos est√°ticos para prevenir errores **‚úì**

**UI y Estilos**

- **Tailwind CSS** - Estilos con clases utilitarias directamente en el HTML  **‚úì**
- **shadcn/ui** - Componentes pre-dise√±ados copiables y personalizables
- **lucide-react** - Librer√≠a de √≠conos SVG moderna y ligera **‚úì**
- **react-icons** - Colecci√≥n de √≠conos de m√∫ltiples librer√≠as populares **‚úì**
- **next/image** - Optimiza im√°genes autom√°ticamente con lazy loading **‚úì**
- **framer-motion** - Crea animaciones fluidas y transiciones avanzadas **‚úì**
- **AOS** - Animaciones al hacer scroll en la p√°gina **‚úì**

**Formularios y Validaci√≥n**

- **react-hook-form** - Maneja formularios con m√≠nimos re-renders **‚úì**
- **zod** - Valida datos con schemas tipados de TypeScript **‚úì**

## Backend y Database

**Backend as a Service**

- **Supabase** - Backend completo con base de datos, autenticaci√≥n y APIs en tiempo real
- **PostgreSQL 15** - Base de datos relacional robusta y escalable
- **Supabase Auth** - Sistema de autenticaci√≥n con m√∫ltiples proveedores
- **Supabase Storage** - Almacenamiento de archivos como certificados y PDFs
- **Supabase Realtime** - Actualizaciones en vivo para el dashboard

**Utilidades**

- **date-fns** - Manipula fechas para early bird y precios regulares **‚úì**

**ORM**

- **Drizzle ORM** - Consultas SQL tipadas y seguras con TypeScript **‚úì**
- **drizzle-kit** - Herramientas CLI para migraciones de base de datos **‚úì**

**Estado y Cach√©**

- **TanStack Query** - Cachea y sincroniza datos del servidor autom√°ticamente
- **Zustand** - Estado global ligero solo si lo necesitas del lado del cliente **‚úì**

**PWA para Lectura de QR**

- **Next-pwa** al stack para configuraci√≥n PWA

## QR y Asistencia

**QR Codes**

- **qrcode** - Genera c√≥digos QR para tickets de eventos **‚úì**
- **qr-scanner** - Lee c√≥digos QR desde la c√°mara en PWA **‚úì**

## Pagos y Transacciones

**OnvoPayments** - Procesa pagos en l√≠nea de forma segura **‚úì**¬†

## Comunicaciones

**Emails**

- **resend** - Env√≠a emails transaccionales de forma confiable **‚úì**
- **@react-email/components** - Crea plantillas de email con componentes React  **‚úì**

## Documentos y Certificados

**PDFs**

- **@react-pdf/renderer** - Genera PDFs desde componentes React **‚úì**
- **Server Actions** - Genera PDFs del lado del servidor de forma segura
- **Supabase Storage** - Almacena certificados y documentos generados

## Monitoreo y Analytics

**Analytics**

- **Vercel Analytics** - M√©tricas de rendimiento incluidas con el hosting
- **Google Analytics 4** - Rastrea comportamiento de usuarios y conversiones **‚úì**
- **Meta Pixel** - Rastrea conversiones para ads de Facebook/Instagram

## Testing

**Unit y Integration**

- **Vitest** - Framework r√°pido para pruebas unitarias y de integraci√≥n

## Seguridad

**Autenticaci√≥n**

- **Supabase Auth** - Maneja login, registro y sesiones de usuarios
- **middleware de Next.js** - Protege rutas privadas del lado del servidor

**Rate Limiting**

- **@upstash/ratelimit con Vercel KV** - Limita peticiones para prevenir spam en compras y escaneos
- **@upstash/ratelimit** es excelente pero requiere Vercel KV (de pago)
- Alternativa gratuita: implementar rate limiting en Supabase con RLS policies

## Extras

**Tablas Avanzadas**

- **@tanstack/react-table** - Tablas con sorting, filtros y paginaci√≥n para el dashboard **‚úì**

**Gr√°ficas**

- **recharts** - Gr√°ficos interactivos de ventas y asistencia  **‚úì**

**Excel Export**

- **xlsx** - Exporta datos del dashboard a archivos Excel  **‚úì**

event-management-system/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                                    # Next.js 14 App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (public)/                          # Rutas p√∫blicas (sin layout admin)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                       # Landing page principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ evento/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                   # Informaci√≥n del evento
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agenda/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                   # Programa y horarios
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ conferencistas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                   # Speakers
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ patrocinadores/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                   # Sponsors
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tickets/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # Sistema de venta
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seleccion/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Selecci√≥n de entradas
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formulario/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Datos de compradores
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pago/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Integraci√≥n OnvoPayments
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ confirmacion/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx               # Confirmaci√≥n y QR
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx                     # Layout p√∫blico
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (admin)/                           # Rutas administrativas
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # Dashboard principal
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ventas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Reportes de ventas
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ asistentes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Gesti√≥n de usuarios
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ asistencia/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Control de asistencia
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificados/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Generaci√≥n certificados
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reportes/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx               # An√°lisis demogr√°fico
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx                     # Layout admin
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (qr-scanner)/                      # PWA para lectura QR
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scanner/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # Esc√°ner QR
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validacion/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx               # Resultado validaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ historial/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx               # Historial de escaneos
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx                     # Layout PWA
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                               # API Routes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tickets/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ create/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # Crear ticket
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validate/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # Validar cup√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts               # Obtener ticket
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ webhook/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # Webhook OnvoPayments
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ status/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts               # Estado de pago
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qr/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scan/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # Registrar escaneo
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ generate/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts               # Generar QR
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificates/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # Generar certificado
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ send/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts               # Enviar por email
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ sales/
‚îÇ   ‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ route.ts               # M√©tricas ventas
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ attendance/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ route.ts               # M√©tricas asistencia
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                              # Autenticaci√≥n
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                   # Login admin
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ callback/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts                   # Callback Supabase
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                         # Root layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ globals.css                        # Estilos globales
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ manifest.json                      # PWA manifest
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/                            # Componentes reutilizables
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                                # shadcn/ui components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialog.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ form.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ input.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ select.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ table.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ toast.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ landing/                           # Componentes landing
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Hero.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventInfo.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Speakers.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Agenda.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sponsors.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Footer.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tickets/                           # Componentes venta
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TicketSelector.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PriceCalculator.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CouponInput.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AttendeeForm.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrderSummary.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scanner/                           # Componentes esc√°ner
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ QRScanner.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ScanResult.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AttendanceLog.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/                         # Componentes dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatsCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SalesChart.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AttendeeTable.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DemographicChart.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExportButton.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shared/                            # Componentes compartidos
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Navbar.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Sidebar.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Loading.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ErrorBoundary.tsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/                                   # Utilidades y configuraci√≥n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts                      # Cliente Supabase
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.ts                      # Server client
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware.ts                  # Auth middleware
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/                                # Database
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.ts                      # Drizzle schema
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ migrations/                    # DB migrations
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ queries.ts                     # Queries reutilizables
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payments/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ onvo.ts                        # OnvoPayments SDK
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ webhook-handler.ts             # Procesar webhooks
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qr/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generator.ts                   # Generar QR codes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scanner.ts                     # L√≥gica escaneo
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validator.ts                   # Validar QR
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificates/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generator.ts                   # Generar PDFs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/                     # Plantillas PDF
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ participation.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ criteria.ts                    # Criterios certificaci√≥n
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ client.ts                      # Resend client
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/                     # Plantillas email
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ticket-confirmation.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ payment-reminder.tsx
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ certificate.tsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ google.ts                      # Google Analytics
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ meta-pixel.ts                  # Meta Pixel
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vercel.ts                      # Vercel Analytics
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ pricing.ts                     # C√°lculo precios
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ validation.ts                  # Validaciones
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ date.ts                        # Utilidades fechas
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ export.ts                      # Exportar Excel
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ cn.ts                          # className utils
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                                 # Custom React hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTickets.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePayment.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useQRScanner.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAttendance.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useDashboard.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useAuth.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ store/                                 # Estado global (Zustand)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cart.ts                            # Carrito de compra
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scanner.ts                         # Estado esc√°ner
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard.ts                       # Filtros dashboard
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/                                 # TypeScript types
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ticket.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ payment.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ attendance.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ certificate.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ analytics.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ config/                                # Configuraci√≥n
‚îÇ       ‚îú‚îÄ‚îÄ site.ts                            # Config del sitio
‚îÇ       ‚îú‚îÄ‚îÄ tickets.ts                         # Categor√≠as tickets
‚îÇ       ‚îú‚îÄ‚îÄ pricing.ts                         # Estructura precios
‚îÇ       ‚îî‚îÄ‚îÄ event.ts                           # Info del evento
‚îÇ
‚îú‚îÄ‚îÄ public/                                    # Archivos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo.svg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ speakers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sponsors/
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ tests/                                     # Tests
‚îÇ   ‚îú‚îÄ‚îÄ unit/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pricing.test.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.test.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ qr.test.ts
‚îÇ   ‚îî‚îÄ‚îÄ integration/
‚îÇ       ‚îú‚îÄ‚îÄ tickets.test.ts
‚îÇ       ‚îú‚îÄ‚îÄ payments.test.ts
‚îÇ       ‚îî‚îÄ‚îÄ scanner.test.ts
‚îÇ
‚îú‚îÄ‚îÄ .env.local                                 # Variables de entorno
‚îú‚îÄ‚îÄ next.config.js                             # Configuraci√≥n Next.js
‚îú‚îÄ‚îÄ tailwind.config.js                         # Configuraci√≥n Tailwind
‚îú‚îÄ‚îÄ tsconfig.json                              # Configuraci√≥n TypeScript
‚îú‚îÄ‚îÄ drizzle.config.ts                          # Configuraci√≥n Drizzle
‚îú‚îÄ‚îÄ package.json                               # Dependencias
‚îî‚îÄ‚îÄ [README.md](http://readme.md/)                                  # Documentaci√≥n

## **Usuarios / Asistentes**

---

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_usuario | UUID PK | Identificador √∫nico del usuario |
| nombre | VARCHAR(200) | Nombre |
| apellido | VARCHAR(200) | Apellido |
| edad | INTEGER | Edad |
| genero | VARCHAR(50) | G√©nero |
| procedencia | VARCHAR(200) | Procedencia geogr√°fica |
| profesion | VARCHAR(200) | Profesi√≥n |
| sector | ENUM('P√∫blico', 'Privado') | Sector laboral |
| telefono | VARCHAR(20) | N√∫mero de tel√©fono |
| correo | VARCHAR(200) UNIQUE | Correo electr√≥nico |
| created_at | TIMESTAMP | Fecha de creaci√≥n del registro |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Tickets**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_ticket | UUID PK | Identificador √∫nico del ticket |
| id_usuario | UUID FK ‚Üí Usuarios | Persona asociada al ticket |
| id_compra | UUID FK ‚Üí Compras | Compra a la que pertenece |
| tipo_ticket | ENUM('Pagado', 'Gratuito', 'Conferencista', 'Patrocinador') | Categor√≠a del ticket |
| modalidad | ENUM('Dia1', 'Dia2', 'Completo') | D√≠as incluidos |
| incluye_fiesta | BOOLEAN | Indica si incluye fiesta de clausura |
| precio_pagado | DECIMAL(10,2) | Precio final pagado (despu√©s de descuentos) |
| precio_original | DECIMAL(10,2) | Precio antes de descuentos |
| id_fase_precio | UUID FK ‚Üí Fases_Precio | Fase de precio aplicada |
| estado_ticket | ENUM('Activo', 'Usado', 'Cancelado', 'Reembolsado') | Estado del ticket |
| qr_code | TEXT UNIQUE | C√≥digo QR √∫nico generado |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Compras**

*Nueva tabla para agrupar tickets de una misma transacci√≥n*

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_compra | UUID PK | Identificador √∫nico de la compra |
| correo_comprador | VARCHAR(200) | Email del comprador (puede diferir de los asistentes) |
| cantidad_tickets | INTEGER | N√∫mero de tickets en esta compra |
| subtotal | DECIMAL(10,2) | Suma de precios originales |
| descuento_total | DECIMAL(10,2) | Total descontado por cupones |
| total | DECIMAL(10,2) | Monto final a pagar |
| id_cupon | UUID FK ‚Üí Cupones NULL | Cup√≥n aplicado (si existe) |
| estado_compra | ENUM('Iniciado', 'Completado', 'Abandonado', 'Cancelado') | Estado del proceso |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Cupones**

*Nueva tabla para gestionar descuentos*

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_cupon | UUID PK | Identificador √∫nico del cup√≥n |
| codigo | VARCHAR(50) UNIQUE | C√≥digo del cup√≥n (ej: EARLYBIRD2025) |
| tipo_descuento | ENUM('Porcentaje', 'MontoFijo') | Tipo de descuento |
| valor_descuento | DECIMAL(10,2) | Valor del descuento (% o monto) |
| fecha_inicio | TIMESTAMP | Desde cu√°ndo es v√°lido |
| fecha_expiracion | TIMESTAMP | Hasta cu√°ndo es v√°lido |
| usos_maximos | INTEGER NULL | L√≠mite de usos (NULL = ilimitado) |
| usos_actuales | INTEGER DEFAULT 0 | Cu√°ntas veces se ha usado |
| activo | BOOLEAN DEFAULT TRUE | Si est√° activo o no |
| descripcion | TEXT | Descripci√≥n del cup√≥n |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Pagos**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_pago | UUID PK | Identificador √∫nico del pago |
| id_compra | UUID FK ‚Üí Compras | Compra relacionada |
| metodo_pago | ENUM('OnvoPayments', 'Datafono') | M√©todo usado |
| moneda | ENUM('USD', 'CRC') | Moneda usada |
| monto | DECIMAL(10,2) | Monto cobrado |
| estado_pago | ENUM('Pendiente', 'Pagado', 'Fallido', 'Reembolsado') | Estado de la transacci√≥n |
| fecha_pago | TIMESTAMP NULL | Momento del pago exitoso |
| referencia_transaccion | VARCHAR(200) | ID de OnvoPayments |
| detalles_adicionales | JSONB NULL | Info extra del procesador de pagos |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Fases_Precio**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_fase | UUID PK | Identificador de la fase |
| nombre_fase | VARCHAR(100) | Early Bird, Regular, Estudiante, Last Minute |
| fecha_inicio | TIMESTAMP | Inicio de la fase |
| fecha_fin | TIMESTAMP | Fin de la fase |
| precio_dia_individual | DECIMAL(10,2) | Precio por un d√≠a |
| precio_completo | DECIMAL(10,2) | Precio entrada completa |
| precio_fiesta | DECIMAL(10,2) | Costo adicional fiesta |
| descripcion | TEXT | Condiciones de la fase |
| activo | BOOLEAN DEFAULT TRUE | Si est√° activa |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Asistencia**

*Redise√±ada para tracking detallado*

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_asistencia | UUID PK | Identificador √∫nico |
| id_ticket | UUID FK ‚Üí Tickets | Ticket escaneado |
| tipo_registro | ENUM('Entrada_Evento', 'Salida_Evento') | Tipo de escaneo |
| fecha_hora | TIMESTAMP | Momento exacto del escaneo |
| escaneado_por | UUID FK ‚Üí Administradores | Admin que hizo el escaneo |
| ubicacion | VARCHAR(200) NULL | Punto de escaneo (ej: "Entrada Principal", "Sal√≥n A") |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |

---

## **Asistencia_Resumen**

*Nueva tabla para facilitar queries de certificaci√≥n*

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_resumen | UUID PK | Identificador √∫nico |
| id_ticket | UUID FK ‚Üí Tickets UNIQUE | Ticket asociado |
| dia_1_entrada | TIMESTAMP NULL | Primera entrada d√≠a 1 |
| dia_1_salida | TIMESTAMP NULL | √öltima salida d√≠a 1 |
| dia_2_entrada | TIMESTAMP NULL | Primera entrada d√≠a 2 |
| dia_2_salida | TIMESTAMP NULL | √öltima salida d√≠a 2 |
| cumple_certificacion | BOOLEAN | Si cumple requisitos para certificado |
| updated_at | TIMESTAMP | √öltima actualizaci√≥n |

---

## **Charlas / Agenda**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_charla | UUID PK | Identificador de la charla |
| titulo | VARCHAR(300) | T√≠tulo de la charla |
| descripcion | TEXT | Breve resumen |
| fecha | DATE | D√≠a de la charla |
| hora_inicio | TIME | Inicio de la charla |
| hora_fin | TIME | Fin de la charla |
| duracion_minutos | INTEGER | Duraci√≥n en minutos |
| id_conferencista | UUID FK ‚Üí Conferencistas | Ponente responsable |
| ubicacion | VARCHAR(200) | Sal√≥n o espacio |
| cupo_maximo | INTEGER NULL | Capacidad (si aplica) |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Conferencistas**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_conferencista | UUID PK | Identificador √∫nico |
| nombre | VARCHAR(200) | Nombre completo |
| biografia | TEXT | Breve bio |
| foto_url | TEXT | URL de foto del conferencista |
| correo | VARCHAR(200) NULL | Contacto (opcional) |
| organizacion | VARCHAR(200) NULL | Empresa/instituci√≥n |
| redes_sociales | JSONB NULL | Links a redes sociales |
| orden_display | INTEGER | Orden de aparici√≥n en la web |
| activo | BOOLEAN DEFAULT TRUE | Si se muestra p√∫blicamente |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Patrocinadores**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_patrocinador | UUID PK | Identificador √∫nico |
| nombre | VARCHAR(200) | Nombre de la empresa |
| logo_url | TEXT | URL del logo |
| orden_display | INTEGER | Orden de aparici√≥n |
| url_sitio_web | TEXT NULL | Sitio web del patrocinador |
| descripcion | TEXT NULL | Descripci√≥n breve |
| activo | BOOLEAN DEFAULT TRUE | Si se muestra p√∫blicamente |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

## **Certificados**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_certificado | UUID PK | Identificador √∫nico |
| id_ticket | UUID FK ‚Üí Tickets UNIQUE | Ticket asociado |
| id_usuario | UUID FK ‚Üí Usuarios | Usuario que recibe el certificado |
| tipo_certificado | ENUM('Participacion', 'Aprovechamiento') | Tipo generado |
| fecha_emision | TIMESTAMP | Fecha de generaci√≥n |
| archivo_url | TEXT | Enlace al PDF en Supabase Storage |
| estado | ENUM('Generado', 'Enviado', 'Error') | Estado del certificado |
| fecha_envio | TIMESTAMP NULL | Cu√°ndo se envi√≥ por email |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| codigo_verificacion | VARCHAR(50) |  |

---

## **Administradores**

| Campo | Tipo | Descripci√≥n |
| --- | --- | --- |
| id_admin | UUID PK | Identificador √∫nico |
| nombre | VARCHAR(200) | Nombre completo |
| correo | VARCHAR(200) UNIQUE | Correo |
| rol | ENUM('SuperAdmin', 'Admin', 'Staff', 'Scanner') | Nivel de acceso |
| password_hash | TEXT | Contrase√±a encriptada (Supabase Auth) |
| activo | BOOLEAN DEFAULT TRUE | Si puede acceder |
| ultimo_acceso | TIMESTAMP NULL | √öltima vez que ingres√≥ |
| created_at | TIMESTAMP | Timestamp de creaci√≥n |
| updated_at | TIMESTAMP | Timestamp de actualizaci√≥n |

---

# Plan de Trabajo - 3 Semanas (MVP Funcional)

**Objetivo:** Landing page funcional + Sistema de compra de tickets con pago

---

## **Semana 1-2: Setup + Landing Page + Base de Datos**

### **Configuraci√≥n del proyecto**

- [ ]  Crear proyecto Next.js 14 con TypeScript
- [ ]  Configurar Tailwind CSS + shadcn/ui
- [ ]  Setup Supabase (proyecto, base de datos)
- [ ]  Configurar Drizzle ORM + migraciones
- [ ]  Crear schema de base de datos (todas las tablas)
- [ ]  Variables de entorno (.env.local)
- [ ]  Git repo + primer commit

### **Sistema de precios + Cupones**

- [ ]  Crear tabla Fases_Precio con datos iniciales
- [ ]  L√≥gica para calcular precio seg√∫n fecha actual
- [ ]  Sistema de cupones (validaci√≥n backend)
- [ ]  Componente PriceCalculator

### **Flujo de selecci√≥n**

- [ ]  `/tickets/seleccion` - Selector de tickets
    - [ ]  Elegir modalidad (D√≠a 1, D√≠a 2, Completo)
    - [ ]  Cantidad de tickets
    - [ ]  Checkbox fiesta de clausura
    - [ ]  Input para cup√≥n + validaci√≥n
- [ ]  Zustand store para carrito de compra
- [ ]  Resumen de orden (OrderSummary component)

---

## **Semana 2: Sistema de Compra de Tickets**

### **Formulario de datos**

- [ ]  `/tickets/formulario` - Formulario por cada ticket
- [ ]  React Hook Form + Zod validation
- [ ]  Campos: nombre, apellido, edad, g√©nero, procedencia, profesi√≥n, sector, tel√©fono, correo
- [ ]  Guardar datos en Zustand
- [ ]  Bot√≥n "Continuar a pago"

### **Integraci√≥n de pagos**

- [ ]  Configurar OnvoPayments (credenciales sandbox)
- [ ]  `/tickets/pago` - P√°gina de pago
- [ ]  API Route: `/api/payments/create`
    - [ ]  Crear registros: Compra, Tickets, Usuarios, Pago
    - [ ]  Iniciar transacci√≥n OnvoPayments
- [ ]  API Route: `/api/payments/webhook`
    - [ ]  Procesar confirmaci√≥n de pago
    - [ ]  Actualizar estado_compra y estado_pago
    - [ ]  **Generar QR codes** para cada ticket
- [ ]  `/tickets/confirmacion` - P√°gina de √©xito
    - [ ]  Mostrar resumen de compra
    - [ ]  **Mostrar QR codes** (uno por ticket)

### **Landing Page Completa**

- [ ]  Layout principal (Navbar, Footer)
- [ ]  Hero section con CTA a compra
- [ ]  Secci√≥n: Informaci√≥n del evento
- [ ]  Secci√≥n: Agenda (lista de charlas desde DB)
- [ ]  Secci√≥n: Conferencistas (cards con fotos)
- [ ]  Secci√≥n: Patrocinadores (logos por nivel)
- [ ]  Secci√≥n: Contacto
- [ ]  Responsive design (mobile/tablet/desktop)
- [ ]  Integrar Google Analytics + Meta Pixel

---

## **Semana 3: Emails + Dashboard B√°sico + Testing**

### **Sistema de emails**

- [ ]  Configurar Resend (API key)
- [ ]  Plantilla email: Confirmaci√≥n de compra con QRs
- [ ]  Enviar email autom√°tico despu√©s del pago exitoso
- [ ]  Plantilla email: Recordatorio de pago (abandonados)

### **Dashboard administrativo b√°sico**

- [ ]  Login admin (Supabase Auth)
- [ ]  `/dashboard` - Vista principal
    - [ ]  M√©tricas: Total ventas, ingresos, tickets vendidos
    - [ ]  Gr√°fica de ventas por d√≠a (recharts)
- [ ]  `/dashboard/asistentes` - Lista de compradores
    - [ ]  Tabla con filtros b√°sicos
    - [ ]  Exportar a Excel

### **Testing y ajustes**

- [ ]  Probar flujo completo de compra
- [ ]  Revisar responsive en m√≥viles
- [ ]  Verificar emails funcionan
- [ ]  Revisar c√°lculo de precios y cupones
- [ ]  Probar pagos sandbox

### **Deploy y buffer**

- [ ]  Deploy en Vercel
- [ ]  Configurar dominio (si aplica)
- [ ]  Testing en producci√≥n
- [ ]  Documentaci√≥n b√°sica para el equipo